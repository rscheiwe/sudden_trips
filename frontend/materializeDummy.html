<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <style>
    #info {
    	position: absolute;
    	top: 100px;
    	width: 100%;
    	text-align: center;
    	z-index: 100;
    	display:block;
    }
    </style>

    <script type="text/javascript" src="js/three.js"></script>

    <script type="text/javascript">

      document.addEventListener('DOMContentLoaded', function() {
        var elems = document.querySelectorAll('.collapsible');
        var instances = M.Collapsible.init(elems);
      });

    </script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Orbitron" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/css/materialize.min.css">
    <link href='https://fonts.googleapis.com/css?family=Oswald:400,700,400italic,700italic' rel='stylesheet' type='text/css'>

    <meta charset="utf-8">


    <title></title>
    <script src='js/three.min.js'></script>
    <script src='js/threex.planets.js'></script>
    <script src='js/threex.atmospherematerial.js'></script>
    <!-- include for threex.glowdatgui -->
    <script src='js/dat.gui.min.js'></script>
    <script src="js/threex.atmospheredatgui.js"></script>
      <!-- <div class="container" id="test"> -->

  </head>

  <body id="test" style='margin: 0px; background-color: black;' position="relative" >
    <div id="info" style="color:white;"><img src="images/logo.png" style="height:50px"></div>
    <div id="info" style="color:white;"><h1 style="font-family:Orbitron; text-shadow: 15px 15px #000000"><strong>SuddenTrip</strong></h1></div>

  <script>

    var renderer = new THREE.WebGLRenderer({antialias:true});
    renderer.setSize( window.innerWidth, window.innerHeight );
    document.body.appendChild( renderer.domElement );
    // renderer.shadowMapEnabled	= true

    var onRenderFcts= [];
    var scene	= new THREE.Scene();
    var camera	= new THREE.PerspectiveCamera(45, window.innerWidth / window.innerHeight, 0.01, 100 );
    camera.position.z = 1;

    var light	= new THREE.AmbientLight( 0x222222 )
    scene.add( light )
    var light	= new THREE.DirectionalLight( 0xffffff, 1 )
    light.position.set(5,5,5)
    scene.add( light )
    light.castShadow	= true
    light.shadowCameraNear	= 0.01
    light.shadowCameraFar	= 15
    light.shadowCameraFov	= 45

    light.shadowCameraLeft	= -1
    light.shadowCameraRight	=  1
    light.shadowCameraTop	=  1
    light.shadowCameraBottom= -1

    light.shadowBias	= 0.001
    light.shadowDarkness	= 0.2

    light.shadowMapWidth	= 1024
    light.shadowMapHeight	= 1024

    var starSphere	= THREEx.Planets.createStarfield()
    scene.add(starSphere)

    var containerEarth	= new THREE.Object3D()
    containerEarth.rotateZ(-23.4 * Math.PI/180)
    containerEarth.position.z	= 0
    scene.add(containerEarth)
    var moonMesh	= THREEx.Planets.createMoon()
    moonMesh.position.set(0.5,0.5,0.5)
    moonMesh.scale.multiplyScalar(1/5)
    moonMesh.receiveShadow	= true
    moonMesh.castShadow	= true
    containerEarth.add(moonMesh)

    var earthMesh	= THREEx.Planets.createEarth()
    earthMesh.receiveShadow	= true
    earthMesh.castShadow	= true
    containerEarth.add(earthMesh)
    onRenderFcts.push(function(delta, now){
      earthMesh.rotation.y += 1/32 * delta;
    })

    var geometry	= new THREE.SphereGeometry(0.5, 32, 32)
    var material	= THREEx.createAtmosphereMaterial()
    material.uniforms.glowColor.value.set(0x00b3ff)
    material.uniforms.coeficient.value	= 0.8
    material.uniforms.power.value		= 2.0
    var mesh	= new THREE.Mesh(geometry, material );
    mesh.scale.multiplyScalar(1.01);
    containerEarth.add( mesh );

    var geometry	= new THREE.SphereGeometry(0.5, 32, 32)
    var material	= THREEx.createAtmosphereMaterial()
    material.side	= THREE.BackSide
    material.uniforms.glowColor.value.set(0x00b3ff)
    material.uniforms.coeficient.value	= 0.5
    material.uniforms.power.value		= 4.0
    var mesh	= new THREE.Mesh(geometry, material );
    mesh.scale.multiplyScalar(1.15);
    containerEarth.add( mesh );

    var earthCloud	= THREEx.Planets.createEarthCloud()
    earthCloud.receiveShadow	= true
    earthCloud.castShadow	= true
    containerEarth.add(earthCloud)
    onRenderFcts.push(function(delta, now){
      earthCloud.rotation.y += 1/8 * delta;
    })
    //////////////////////////////////////////////////////////////////////////////////
    //		Camera Controls							//
    //////////////////////////////////////////////////////////////////////////////////
    var mouse	= {x : 0, y : 0}
    document.addEventListener('mousemove', function(event){
      mouse.x	= (event.clientX / window.innerWidth ) - 0.5
      mouse.y	= (event.clientY / window.innerHeight) - 0.5
    }, false)
    onRenderFcts.push(function(delta, now){
      camera.position.x += (mouse.x*5 - camera.position.x) * (delta*3)
      camera.position.y += (mouse.y*5 - camera.position.y) * (delta*3)
      camera.lookAt( scene.position )
    })
    //////////////////////////////////////////////////////////////////////////////////
    //		render the scene						//
    //////////////////////////////////////////////////////////////////////////////////
    onRenderFcts.push(function(){
    renderer.render( scene, camera );
    })
    //////////////////////////////////////////////////////////////////////////////////
    //		loop runner							//
    //////////////////////////////////////////////////////////////////////////////////
    var lastTimeMsec= null
    requestAnimationFrame(function animate(nowMsec){
    // keep looping
        requestAnimationFrame( animate );
        // measure time
        lastTimeMsec	= lastTimeMsec || nowMsec-1000/60
        var deltaMsec	= Math.min(200, nowMsec - lastTimeMsec)
        lastTimeMsec	= nowMsec
        // call each update function
        onRenderFcts.forEach(function(onRenderFct){
          onRenderFct(deltaMsec/1000, nowMsec/1000)
        })
        })
</script>
</div>

<!-- //////////////////// -->
<!-- MAIN CONTENT -->

    <!-- <div class="padding"> -->
        <div class="row" >
          <div class="col s8">
            <!--Card-->
            <div class="card">
                <!-- <div class="card-body card-body-cascade text-center"> -->
                  <form id="search-form">
                    <input id="pac-input" class="controls" type="text" placeholder="Search Box" style="width:250px; margin:15px">

                  </form>
                <div id="map-container-6" class="z-depth-1" style="height:518px"></div>
              <!-- </div> -->
            </div>
          </div>

          <div class="col s4">
            <div class="card">
              <div class="card-image">
                <img src="https://ih1.redbubble.net/image.84668211.6972/flat,550x550,075,f.u7.jpg">

                  <span class="card-title" style="font-family:Oswald;background-color:gray; opacity:.7;">Traveler: Bill Gates</span>
                  <span class="card-title" style="font-family:Oswald;color:white;text-shadow:5px 5px black">Traveler: Bill Gates</span>

                  <a class="btn-floating halfway-fab waves-effect waves-light red"><i class="material-icons">add_location</i></a>

              </div>
              <div class="card-content">
                <center><button id="add-trip-button" data-target="modal1" class="btn modal-trigger" style="font-family:Oswald">Add Trip</button>

              </div>
              <!-- <div class="card-action">
                <a href="#">This is a link</a>
              </div> -->
            </div>
          </div>
        </div>

      <!-- ////////////////////////////////////////// -->

        <div class="row" >

        <!-- <div id="grad1"></div> -->

        <div class="col s7">
          <div class="card">
            <div class="card-image">
              <img src="https://www.gpsmycity.com/img/ctw/319.jpg">
                <span class="card-title" style="font-family:Oswald;background-color:gray; opacity:.7;">Destination Queue</span>
                <span class="card-title" style="font-family:Oswald;color:white;text-shadow:5px 5px black">Destination Queue</span>
            </div>

            <div class="card-content" id="search-list">
            </div>
            <div class="card-action">
            </div>
          </div>
        </div>

        <div class="col s5">
          <ul class="collapsible popout" id="collapsible-popout" ></ul>
        </div>
      </div>
    <!-- </div> -->

    <!-- Modal -->
    <div id="modal1" class="modal">

      <div class="modal-body">
        <div class="modal-content">
          <h5 style="font-family:Oswald">Enter your Suddentrip info</h5>
        <form id="add-button">
          <!-- Suddentrip Name:<br> -->
          <input type="text"  class="validate" id="suddentripname" name="suddentripname" required="" aria-required="true">
          <label for="suddentripname" data-error="wrong" data-success="right" style="font-family:Oswald"><strong>Suddentrip Name</strong></label><br>
          <!-- Location:<br> -->
          <input type="text" class="validate" id="suddentriplocation" name="location" required="" aria-required="true"><br>
          <label for="suddentriplocation" data-error="wrong" data-success="right" style="font-family:Oswald"><strong>Location</strong></label><br>

          <!-- When are you going?: -->
          <input type="text" class="validate" id="suddentripdate" name="date" required="" aria-required="true">
          <label for="suddentripdate" data-error="wrong" data-success="right" style="font-family:Oswald"><strong>When are you going?</strong></label><br>

      </div>
    </div>
      <!-- <div class="modal-footer"> -->
        <div style="padding-left:3rem;padding-bottom:3rem;" class="padding2">
        <a class="modal-close btn-floating btn-large waves-effect red"><i class="material-icons">clear</i></a>
          <a  class="modal-close btn-floating btn-large blue pulse"><i id="submit-trip" class="material-icons">add</i></a>
        <!-- </div> -->
      </div>
      </form>
  </div>



    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAFbIUj1JWOibobJTK7fAq5UH7LFSHFRhk&libraries=places&callback=initAutocomplete"
    async defer></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/js/materialize.min.js"></script>
    <script type="text/javascript" src="materializeFunc.js"></script>
    <script type="text/javascript" src="init.js"></script>
    <script type="text/javascript" src="adapter.js"></script>
    <script src="css/materializeCSS.css"></script>


  </body>
</html>
